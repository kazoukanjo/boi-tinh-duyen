<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>B√≥i T√¨nh Duy√™n L√£ng M·∫°n</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: "Segoe UI", system-ui, -apple-system, sans-serif;
    }

    body {
      background: radial-gradient(circle at top, #ffbfd3 0%, #ff8fb2 30%, #ff6f91 60%, #3b003b 100%);
      min-height: 100vh;
      color: #fff;
      display: flex;
      justify-content: center;
      padding: 30px 10px;
    }

    .app-container {
      max-width: 1100px;
      width: 100%;
      background: rgba(255, 255, 255, 0.12);
      border-radius: 24px;
      box-shadow: 0 20px 50px rgba(0,0,0,0.35);
      backdrop-filter: blur(18px);
      border: 1px solid rgba(255,255,255,0.3);
      padding: 24px 26px 30px;
    }

    .app-header {
      text-align: center;
      margin-bottom: 22px;
      position: relative;
    }

    .app-header h1 {
      font-size: 28px;
      margin-bottom: 6px;
      letter-spacing: 1px;
    }

    .app-header p {
      font-size: 14px;
      opacity: 0.9;
    }

    .heart-emoji {
      font-size: 26px;
      margin: 0 4px;
    }

    .app-header::after {
      content: "üíïüê±üêªüê∞üíò";
      position: absolute;
      bottom: -8px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 18px;
      opacity: 0.9;
    }

    .section-title {
      font-size: 18px;
      margin: 16px 0 10px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .section-title span {
      font-size: 20px;
    }

    .input-section {
      background: rgba(255, 255, 255, 0.12);
      border-radius: 18px;
      padding: 16px 14px 18px;
      margin-bottom: 14px;
      border: 1px solid rgba(255,255,255,0.25);
    }

    .two-columns {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    .card {
      background: rgba(255, 255, 255, 0.12);
      border-radius: 18px;
      padding: 14px 14px 16px;
      border: 1px solid rgba(255,255,255,0.25);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      top: -30px;
      right: -30px;
      width: 80px;
      height: 80px;
      background: radial-gradient(circle, rgba(255,255,255,0.35), transparent 70%);
      opacity: 0.65;
    }

    .gender-label {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
      font-weight: 600;
      font-size: 15px;
    }

    .gender-label span {
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .gender-icon {
      font-size: 20px;
    }

    .field-group {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-bottom: 8px;
    }

    .field-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }

    label {
      font-size: 12px;
      opacity: 0.85;
      margin-left: 2px;
    }

    input, select, textarea {
      margin-top: 2px;
      border-radius: 999px;
      border: none;
      padding: 7px 11px;
      font-size: 13px;
      outline: none;
      color: #2c0a23;
      background: rgba(255,255,255,0.96);
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }

    textarea {
      min-height: 50px;
      resize: vertical;
      border-radius: 16px;
      padding-top: 7px;
    }

    select {
      cursor: pointer;
    }

    input::placeholder,
    textarea::placeholder {
      color: rgba(123, 90, 118, 0.9);
      font-size: 12px;
    }

    .actions {
      display: flex;
      justify-content: center;
      margin-top: 8px;
      gap: 10px;
      flex-wrap: wrap;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 9px 20px;
      font-size: 14px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: all 0.2s ease;
      font-weight: 600;
      letter-spacing: 0.3px;
    }

    .btn-primary {
      background: linear-gradient(135deg, #ff4e8a, #ff7aa2);
      color: #fff;
      box-shadow: 0 4px 12px rgba(255, 78, 138, 0.5);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 16px rgba(255, 78, 138, 0.65);
    }

    .btn-secondary {
      background: rgba(255, 255, 255, 0.2);
      color: #fff;
      border: 1px solid rgba(255,255,255,0.5);
    }

    .btn-secondary:hover {
      background: rgba(255, 255, 255, 0.3);
    }

    .results-section {
      margin-top: 14px;
      display: grid;
      grid-template-columns: 1.2fr 1.8fr;
      gap: 12px;
    }

    .compatibility-card,
    .suggestions-card {
      background: rgba(255,255,255,0.12);
      border-radius: 18px;
      padding: 12px 13px 14px;
      border: 1px solid rgba(255,255,255,0.25);
    }

    .compatibility-inner {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .circle-wrapper {
      position: relative;
      width: 120px;
      height: 120px;
      margin: 0 auto;
    }

    .compat-circle-bg {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 20%, #ffafc7, #ff2f6a);
      position: relative;
      overflow: hidden;
      box-shadow: 0 0 0 3px rgba(255,255,255,0.7), 0 10px 20px rgba(0,0,0,0.35);
    }

    .compat-circle-overlay {
      position: absolute;
      inset: 0;
      background: conic-gradient(#ff174d var(--percent), #1b001b var(--percent));
    }

    .compat-percent-text {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      color: #fff;
      text-shadow: 0 2px 6px rgba(0,0,0,0.6);
    }

    .compat-percent-text span {
      font-size: 26px;
      font-weight: 700;
    }

    .compat-percent-text small {
      font-size: 11px;
      opacity: 0.9;
    }

    .compat-label {
      margin-top: 6px;
      text-align: center;
      font-size: 14px;
    }

    .pet-line {
      margin-top: 4px;
      text-align: center;
      font-size: 13px;
    }

    .pet-emoji {
      font-size: 22px;
      margin-right: 4px;
    }

    .compat-details {
      flex: 1;
      font-size: 13px;
    }

    .compat-tag {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,0.18);
      font-size: 12px;
      margin-bottom: 6px;
    }

    .compat-tag span {
      font-size: 15px;
    }

    .compat-note {
      font-size: 13px;
      line-height: 1.45;
      opacity: 0.96;
    }

    .suggestions-card ul {
      list-style: none;
      margin-top: 4px;
      max-height: 160px;
      overflow-y: auto;
      padding-right: 4px;
    }

    .suggestions-card li {
      display: flex;
      align-items: flex-start;
      gap: 6px;
      font-size: 13px;
      margin-bottom: 4px;
    }

    .bullet-heart {
      font-size: 13px;
      margin-top: 1px;
    }

    .footer-blessing {
      margin-top: 12px;
      background: rgba(255,255,255,0.16);
      border-radius: 16px;
      padding: 9px 12px;
      font-size: 13px;
      text-align: center;
      border: 1px solid rgba(255,255,255,0.25);
    }

    .footer-blessing span {
      font-size: 16px;
      margin-right: 4px;
    }

    .hidden {
      display: none;
    }

    @media (max-width: 900px) {
      .results-section {
        grid-template-columns: 1fr;
      }
      .compatibility-inner {
        flex-direction: column;
      }
    }

    @media (max-width: 720px) {
      .two-columns {
        grid-template-columns: 1fr;
      }
      .app-container {
        padding: 18px 15px 22px;
      }
    }
  </style>
</head>
<body>
  <div class="app-container">
    <header class="app-header">
      <h1>
        <span class="heart-emoji">üíñ</span>
        B√≥i T√¨nh Duy√™n L√£ng M·∫°n
        <span class="heart-emoji">üíò</span>
      </h1>
      <p>ƒêi·ªÅn th√¥ng tin c·ªßa b·∫°n v√† ng∆∞·ªùi ·∫•y ƒë·ªÉ kh√°m ph√° m·ª©c ƒë·ªô h·ª£p nhau v√† b√≠ k√≠p gi·ªØ l·ª≠a t√¨nh y√™u.</p>
    </header>

    <section class="input-section">
      <div class="section-title">
        <span>üíå</span> Th√¥ng tin hai b·∫°n
      </div>

      <div class="two-columns">
        <!-- B√äN NAM -->
        <div class="card">
          <div class="gender-label">
            <span><span class="gender-icon">üë¶</span> Th√¥ng tin anh ·∫•y</span>
            <span>Nam</span>
          </div>

          <div class="field-group">
            <label for="male-name">T√™n</label>
            <input id="male-name" type="text" placeholder="V√≠ d·ª•: Minh, Ho√†ng, Nam...">
          </div>

          <div class="field-row">
            <div class="field-group">
              <label for="male-dob">Ng√†y sinh (dd/mm/yyyy)</label>
              <input id="male-dob" type="text" placeholder="01/01/2000">
            </div>
            <div class="field-group">
              <label for="male-time">Gi·ªù sinh (x gi·ªù)</label>
              <input id="male-time" type="text" placeholder="10 gi·ªù">
            </div>
          </div>

          <div class="field-group">
            <label for="male-place">N∆°i sinh</label>
            <input id="male-place" type="text" placeholder="H√† N·ªôi, S√†i G√≤n...">
          </div>

          <div class="field-row">
            <div class="field-group">
              <label for="male-element">M·ªánh ng≈© h√†nh</label>
              <select id="male-element">
                <option value="">Ch·ªçn m·ªánh</option>
                <option>Kim</option>
                <option>M·ªôc</option>
                <option>Th·ªßy</option>
                <option>H·ªèa</option>
                <option>Th·ªï</option>
              </select>
            </div>
            <div class="field-group">
              <label for="male-blood">Nh√≥m m√°u</label>
              <select id="male-blood">
                <option value="">Ch·ªçn nh√≥m m√°u</option>
                <option>A</option>
                <option>B</option>
                <option>AB</option>
                <option>O</option>
              </select>
            </div>
          </div>

          <div class="field-group">
            <label for="male-hobby">S·ªü th√≠ch c√° nh√¢n</label>
            <textarea id="male-hobby" placeholder="V√≠ d·ª•: xem phim, ch∆°i game, ƒë√° b√≥ng, du l·ªãch..."></textarea>
          </div>

          <div class="field-group">
            <label for="male-relationship">ƒê·∫∑c ƒëi·ªÉm trong m·ªôt m·ªëi quan h·ªá</label>
            <textarea id="male-relationship" placeholder="V√≠ d·ª•: chu ƒë√°o, h∆°i √≠t n√≥i, th√≠ch l·∫Øng nghe..."></textarea>
          </div>

          <div class="field-row">
            <div class="field-group">
              <label for="male-zodiac">Cung ho√†ng ƒë·∫°o</label>
              <select id="male-zodiac">
                <option value="">Ch·ªçn cung</option>
                <option>Ma K·∫øt</option>
                <option>B·∫£o B√¨nh</option>
                <option>Song Ng∆∞</option>
                <option>B·∫°ch D∆∞∆°ng</option>
                <option>Kim Ng∆∞u</option>
                <option>Song T·ª≠</option>
                <option>C·ª± Gi·∫£i</option>
                <option>S∆∞ T·ª≠</option>
                <option>X·ª≠ N·ªØ</option>
                <option>Thi√™n B√¨nh</option>
                <option>B·ªç C·∫°p</option>
                <option>Nh√¢n M√£</option>
              </select>
            </div>
            <div class="field-group">
              <label for="male-color">M√†u s·∫Øc y√™u th√≠ch</label>
              <select id="male-color">
                <option value="">Ch·ªçn m√†u</option>
                <option>ƒê·ªè</option>
                <option>H·ªìng</option>
                <option>Tr·∫Øng</option>
                <option>ƒêen</option>
                <option>Xanh d∆∞∆°ng</option>
                <option>Xanh l√°</option>
                <option>V√†ng</option>
                <option>T√≠m</option>
              </select>
            </div>
          </div>

          <div class="field-row">
            <div class="field-group">
              <label for="male-food">ƒê·ªì ƒÉn y√™u th√≠ch</label>
              <input id="male-food" type="text" placeholder="V√≠ d·ª•: l·∫©u, g√† r√°n, sushi...">
            </div>
            <div class="field-group">
              <label for="male-drink">ƒê·ªì u·ªëng y√™u th√≠ch</label>
              <input id="male-drink" type="text" placeholder="V√≠ d·ª•: tr√† s·ªØa, c√† ph√™, n∆∞·ªõc cam...">
            </div>
          </div>
		  <div class="field-group">
			<label for="male-babyname">B·∫°n mu·ªën ƒë·∫∑t t√™n con l√† g√¨?</label>
			<input id="male-babyname" type="text" placeholder="V√≠ d·ª•: An, B·∫£o, Kh√°nh, Minh...">
		  </div>
        </div>

        <!-- B√äN N·ªÆ -->
        <div class="card">
          <div class="gender-label">
            <span><span class="gender-icon">üëß</span> Th√¥ng tin c√¥ ·∫•y</span>
            <span>N·ªØ</span>
          </div>

          <div class="field-group">
            <label for="female-name">T√™n</label>
            <input id="female-name" type="text" placeholder="V√≠ d·ª•: Linh, Trang, Th·∫£o...">
          </div>

          <div class="field-row">
            <div class="field-group">
              <label for="female-dob">Ng√†y sinh (dd/mm/yyyy)</label>
              <input id="female-dob" type="text" placeholder="14/02/2001">
            </div>
            <div class="field-group">
              <label for="female-time">Gi·ªù sinh (x gi·ªù)</label>
              <input id="female-time" type="text" placeholder="22 gi·ªù">
            </div>
          </div>

          <div class="field-group">
            <label for="female-place">N∆°i sinh</label>
            <input id="female-place" type="text" placeholder="ƒê√† N·∫µng, H·∫£i Ph√≤ng...">
          </div>

          <div class="field-row">
            <div class="field-group">
              <label for="female-element">M·ªánh ng≈© h√†nh</label>
              <select id="female-element">
                <option value="">Ch·ªçn m·ªánh</option>
                <option>Kim</option>
                <option>M·ªôc</option>
                <option>Th·ªßy</option>
                <option>H·ªèa</option>
                <option>Th·ªï</option>
              </select>
            </div>
            <div class="field-group">
              <label for="female-blood">Nh√≥m m√°u</label>
              <select id="female-blood">
                <option value="">Ch·ªçn nh√≥m m√°u</option>
                <option>A</option>
                <option>B</option>
                <option>AB</option>
                <option>O</option>
              </select>
            </div>
          </div>

          <div class="field-group">
            <label for="female-hobby">S·ªü th√≠ch c√° nh√¢n</label>
            <textarea id="female-hobby" placeholder="V√≠ d·ª•: ƒë·ªçc s√°ch, n·∫•u ƒÉn, ch·ª•p ·∫£nh..."></textarea>
          </div>

          <div class="field-group">
            <label for="female-relationship">ƒê·∫∑c ƒëi·ªÉm trong m·ªôt m·ªëi quan h·ªá</label>
            <textarea id="female-relationship" placeholder="V√≠ d·ª•: t√¨nh c·∫£m, th·∫≥ng th·∫Øn, hay quan t√¢m..."></textarea>
          </div>

          <div class="field-row">
            <div class="field-group">
              <label for="female-zodiac">Cung ho√†ng ƒë·∫°o</label>
              <select id="female-zodiac">
                <option value="">Ch·ªçn cung</option>
                <option>Ma K·∫øt</option>
                <option>B·∫£o B√¨nh</option>
                <option>Song Ng∆∞</option>
                <option>B·∫°ch D∆∞∆°ng</option>
                <option>Kim Ng∆∞u</option>
                <option>Song T·ª≠</option>
                <option>C·ª± Gi·∫£i</option>
                <option>S∆∞ T·ª≠</option>
                <option>X·ª≠ N·ªØ</option>
                <option>Thi√™n B√¨nh</option>
                <option>B·ªç C·∫°p</option>
                <option>Nh√¢n M√£</option>
              </select>
            </div>
            <div class="field-group">
              <label for="female-color">M√†u s·∫Øc y√™u th√≠ch</label>
              <select id="female-color">
                <option value="">Ch·ªçn m√†u</option>
                <option>ƒê·ªè</option>
                <option>H·ªìng</option>
                <option>Tr·∫Øng</option>
                <option>ƒêen</option>
                <option>Xanh d∆∞∆°ng</option>
                <option>Xanh l√°</option>
                <option>V√†ng</option>
                <option>T√≠m</option>
              </select>
            </div>
          </div>

          <div class="field-row">
            <div class="field-group">
              <label for="female-food">ƒê·ªì ƒÉn y√™u th√≠ch</label>
              <input id="female-food" type="text" placeholder="V√≠ d·ª•: ƒë·ªì ng·ªçt, b√∫n, ph·ªü...">
            </div>
            <div class="field-group">
              <label for="female-drink">ƒê·ªì u·ªëng y√™u th√≠ch</label>
              <input id="female-drink" type="text" placeholder="V√≠ d·ª•: tr√† ƒë√†o, sinh t·ªë, matcha...">
            </div>
          </div>
		  <div class="field-group">
			<label for="female-babyname">B·∫°n mu·ªën ƒë·∫∑t t√™n con l√† g√¨?</label>
			<input id="female-babyname" type="text" placeholder="V√≠ d·ª•: An, B·∫£o, Kh√°nh, Minh...">
		  </div>
        </div>
      </div>

      <div class="actions">
        <button class="btn btn-primary" id="calc-btn">
          üîÆ Xem ƒë·ªô h·ª£p nhau
        </button>
        <button class="btn btn-secondary" id="reset-btn">
          ‚ôªÔ∏è Ch∆°i l·∫°i
        </button>
      </div>
    </section>

    <section id="results-wrapper" class="hidden">
      <div class="section-title">
        <span>üíë</span> K·∫øt qu·∫£ b√≥i t√¨nh duy√™n
      </div>

      <div class="results-section">
        <!-- PH·∫¶N 1: T·ªà L·ªÜ H·ª¢P NHAU -->
        <div class="compatibility-card">
          <div class="compatibility-inner">
            <div>
              <div class="circle-wrapper">
                <div class="compat-circle-bg">
                  <div class="compat-circle-overlay" id="compat-circle" style="--percent:80%;"></div>
                  <div class="compat-percent-text">
                    <span id="percent-text">80%</span>
                    <small>m·ª©c ƒë·ªô h√≤a h·ª£p</small>
                  </div>
                </div>
              </div>
              <div class="compat-label" id="compat-label-text">
                Hai b·∫°n l√† c·∫∑p ƒë√¥i r·∫•t ƒÉn √Ω üíû
              </div>
              <div class="pet-line" id="pet-line-text">
                <span class="pet-emoji">üê±</span>
                NƒÉng l∆∞·ª£ng ƒë√°ng y√™u nh∆∞ m·ªôt c·∫∑p m√®o l∆∞·ªùi √¥m nhau c·∫£ ng√†y.
              </div>
            </div>

            <div class="compat-details">
              <div class="compat-tag" id="compat-tag">
                <span>üíç</span>
                <span id="compat-type">Duy√™n v·ª£ ch·ªìng</span>
              </div>
              <div class="compat-note" id="compat-note">
                C·∫£ hai c√≥ r·∫•t nhi·ªÅu ƒëi·ªÉm b·ªï tr·ª£ cho nhau. N·∫øu bi·∫øt l·∫Øng nghe, chia s·∫ª c·∫£m x√∫c th·∫≠t l√≤ng
                v√† tr√°nh ƒë·ªÉ ƒë·ªëi ph∆∞∆°ng ph·∫£i ƒëo√°n suy nghƒ© qu√° nhi·ªÅu, m·ªëi quan h·ªá n√†y r·∫•t d·ªÖ ti·∫øn xa v√† b·ªÅn v·ªØng.
              </div>
            </div>
          </div>
        </div>

        <!-- PH·∫¶N 2: G·ª¢I √ù H√ÄNH ƒê·ªòNG -->
        <div class="suggestions-card">
          <div class="section-title" style="margin-top:0;">
            <span>üìã</span> G·ª£i √Ω ƒë·ªÉ hai b·∫°n b·ªÅn ch·∫∑t h∆°n
          </div>
          <ul id="suggestion-list">
            <!-- JS s·∫Ω th√™m n·ªôi dung -->
          </ul>
        </div>
      </div>

      <!-- L·ªúI CH√öC CU·ªêI -->
      <div class="footer-blessing" id="blessing-text">
        <span>üåü</span>
        Ch√∫c hai b·∫°n lu√¥n gi·ªØ ƒë∆∞·ª£c nh·ªØng c·∫£m x√∫c ban ƒë·∫ßu d√†nh cho nhau, c√πng n·∫Øm tay ƒëi qua nhi·ªÅu m√πa th∆∞∆°ng nh·ªõ.
      </div>
    </section>
  </div>

  <script>
    // M·ªôt s·ªë data m·∫´u ƒë·ªÉ random cho vui
    const petLines = [
      "üê± NƒÉng l∆∞·ª£ng ƒë√°ng y√™u nh∆∞ m·ªôt c·∫∑p m√®o l∆∞·ªùi √¥m nhau c·∫£ ng√†y.",
      "üê∂ ·∫§m √°p v√† trung th√†nh nh∆∞ m·ªôt ch√∫ c√∫n con lu√¥n qu·∫•n qu√Ωt b√™n ch·ªß.",
      "üêª V·ªØng ch√£i nh∆∞ m·ªôt c·∫∑p g·∫•u nh·ªè d·ª±a l∆∞ng v√†o nhau gi·ªØa m√πa ƒë√¥ng l·∫°nh.",
      "üê∞ Ng·ªçt ng√†o, nh√≠ nh·∫£nh nh∆∞ ƒë√¥i th·ªè con ch·∫°y nh·∫£y trong v∆∞·ªùn hoa.",
      "üêº D·ªÖ th∆∞∆°ng v√† b√¨nh y√™n nh∆∞ m·ªôt c·∫∑p g·∫•u tr√∫c n·∫±m √¥m nhau ng·ªß tr∆∞a."
    ];

    const compatTypes = [
      "Tri k·ªâ",
      "Ng∆∞·ªùi y√™u l√Ω t∆∞·ªüng",
      "Duy√™n v·ª£ ch·ªìng",
      "C·∫∑p ƒë√¥i g·∫Øn b√≥",
      "Ng∆∞·ªùi b·∫°n th√¢n thi·∫øt"
    ];

    const compatLabels = [
      "Hai b·∫°n l√† m·∫£nh gh√©p r·∫•t t·ª± nhi√™n c·ªßa nhau.",
      "C·∫∑p ƒë√¥i n√†y m√† ƒëi ƒë√¢u c√πng nhau th√¨ auto t·ªèa s√°ng.",
      "S·ª± ƒÉn √Ω gi·ªØa hai b·∫°n khi·∫øn ng∆∞·ªùi kh√°c ch·ªâ bi·∫øt ghen t·ªã.",
      "C√≥ ch√∫t kh√°c bi·ªát nh∆∞ng b√π tr·ª´ v·ª´a ƒë·ªß ƒë·ªÉ lu√¥n h·∫•p d·∫´n nhau.",
      "N·∫øu ti·∫øp t·ª•c vun ƒë·∫Øp, ƒë√¢y r·∫•t d·ªÖ tr·ªü th√†nh m·ªëi quan h·ªá l√¢u d√†i."
    ];

    const blessings = [
      "Ch√∫c hai b·∫°n lu√¥n ƒë·ªß d·ªãu d√†ng ƒë·ªÉ l·∫Øng nghe v√† ƒë·ªß ch√¢n th√†nh ƒë·ªÉ n·∫Øm tay nhau th·∫≠t ch·∫∑t.",
      "Ch√∫c m·ªëi quan h·ªá c·ªßa hai b·∫°n ng√†y m·ªôt b·ªÅn ch·∫∑t, nh·∫π nh√†ng m√† s√¢u s·∫Øc, b√¨nh y√™n m√† n·ªìng nhi·ªát.",
      "Hy v·ªçng hai b·∫°n s·∫Ω tr·ªü th√†nh ch·ªën b√¨nh y√™n c·ªßa nhau sau m·ªói ng√†y d√†i m·ªát m·ªèi.",
      "Ch√∫c hai tr√°i tim lu√¥n chung nh·ªãp, c√πng nhau ƒëi qua nhi·ªÅu m√πa thanh xu√¢n th·∫≠t ƒë·∫πp.",
      "Mong r·∫±ng m·ªói l·∫ßn nh√¨n nhau, hai b·∫°n ƒë·ªÅu th·∫•y may m·∫Øn v√¨ ƒë√£ ch·ªçn nhau gi·ªØa c·∫£ th·∫ø gi·ªõi.",
      "Ch√∫c t√¨nh y√™u c·ªßa hai b·∫°n lu√¥n ƒë·ªß tin t∆∞·ªüng, ƒë·ªß th·∫•u hi·ªÉu v√† ƒë·ªß d≈©ng c·∫£m ƒë·ªÉ ƒëi c√πng nhau th·∫≠t l√¢u.",
      "Hy v·ªçng m·ªói kho·∫£nh kh·∫Øc b√™n nhau ƒë·ªÅu tr·ªü th√†nh k·ª∑ ni·ªám ng·ªçt ng√†o kh√≥ qu√™n.",
      "Ch√∫c cho nh·ªØng gi·∫≠n d·ªói s·∫Ω nhanh ch√≥ng h√≥a th√†nh c·ªõ ƒë·ªÉ hi·ªÉu nhau nhi·ªÅu h∆°n."
    ];

    const genericSuggestions = [
      "D√†nh th·ªùi gian n√≥i chuy·ªán m·ªói ng√†y, k·ªÉ c·∫£ nh·ªØng ƒëi·ªÅu nh·ªè nh·∫∑t trong cu·ªôc s·ªëng.",
      "Th·∫≥ng th·∫Øn chia s·∫ª c·∫£m x√∫c thay v√¨ ch·ªù ƒë·ªëi ph∆∞∆°ng ph·∫£i t·ª± ƒëo√°n.",
      "Thi tho·∫£ng vi·∫øt m·ªôt v√†i d√≤ng d·ªÖ th∆∞∆°ng ho·∫∑c nh·∫Øn m·ªôt tin b·∫•t ng·ªù ƒë·ªÉ ng∆∞·ªùi kia c·∫£m nh·∫≠n ƒë∆∞·ª£c s·ª± quan t√¢m.",
      "Khi c√≥ kh√∫c m·∫Øc, ∆∞u ti√™n ng·ªìi l·∫°i n√≥i chuy·ªán nh·∫π nh√†ng thay v√¨ im l·∫∑ng n√© tr√°nh.",
      "T·∫°o nh·ªØng th√≥i quen chung nh∆∞ c√πng xem m·ªôt b·ªô phim, nghe chung m·ªôt playlist ho·∫∑c ƒëi d·∫°o m·ªói tu·∫ßn.",
      "T√¥n tr·ªçng kho·∫£ng kh√¥ng gian ri√™ng c·ªßa nhau, ƒë·ªÉ m·ªói ng∆∞·ªùi v·∫´n ƒë∆∞·ª£c l√† ch√≠nh m√¨nh."
    ];

    function randomInRange(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    // Lu√¥n gi·ªØ t·ªâ l·ªá > 70%
    function generateCompatibilityPercent() {
      return randomInRange(72, 98);
    }

    function buildSuggestions(data) {
      const list = [];

      const { maleName, femaleName, maleHobby, femaleHobby, maleFood, femaleFood, maleDrink, femaleDrink } = data;

      if (maleHobby || femaleHobby) {
        list.push(`C√πng nhau d√†nh m·ªôt bu·ªïi h·∫πn h√≤ theo s·ªü th√≠ch c·ªßa c·∫£ hai, xen k·∫Ω: c√≥ bu·ªïi ∆∞u ti√™n s·ªü th√≠ch c·ªßa ${maleName || "ng∆∞·ªùi ·∫•y"}, c√≥ bu·ªïi ∆∞u ti√™n s·ªü th√≠ch c·ªßa ${femaleName || "b·∫°n"}.`);
      }

      if (maleFood || femaleFood) {
        list.push(`L·∫≠p m·ªôt ‚Äúlist qu√°n ru·ªôt‚Äù v·ªõi nh·ªØng m√≥n hai b·∫°n th√≠ch nh∆∞ ${maleFood || "m√≥n anh ·∫•y th√≠ch"} v√† ${femaleFood || "m√≥n c√¥ ·∫•y th√≠ch"}, r·ªìi m·ªói tu·∫ßn c√πng tick d·∫ßn t·ª´ng qu√°n.`);
      }

      if (maleDrink || femaleDrink) {
        list.push(`Th·ª≠ h·∫πn h√≤ ·ªü m·ªôt qu√°n n∆∞·ªõc m·ªõi, g·ªçi m√≥n y√™u th√≠ch c·ªßa nhau: ${maleDrink || "ƒë·ªì u·ªëng anh ·∫•y th√≠ch"} v√† ${femaleDrink || "ƒë·ªì u·ªëng c√¥ ·∫•y th√≠ch"}.`);
      }

      list.push(
        "Th·ªânh tho·∫£ng d√†nh ri√™ng m·ªôt bu·ªïi ch·ªâ ƒë·ªÉ l·∫Øng nghe ng∆∞·ªùi kia chia s·∫ª v·ªÅ √°p l·ª±c, lo l·∫Øng, suy nghƒ© c·ªßa h·ªç.",
        "Thay v√¨ tr√°ch m√≥c, h√£y n√≥i v·ªõi nhau b·∫±ng ng√¥n ng·ªØ: ‚ÄúM√¨nh c·∫£m th·∫•y...‚Äù ƒë·ªÉ ƒë·ªëi ph∆∞∆°ng kh√¥ng b·ªã t·ªïn th∆∞∆°ng.",
        "Gi·ªØ cho nhau nh·ªØng b·∫•t ng·ªù nh·ªè: m·ªôt l·ªùi khen, m·ªôt t·∫•m ·∫£nh k·ª∑ ni·ªám in ra, hay m·ªôt bu·ªïi h·∫πn kh√¥ng b√°o tr∆∞·ªõc.",
        "ƒê·∫∑t ra v√†i nguy√™n t·∫Øc chung nh∆∞: kh√¥ng b·ªè ng·ªß khi c√≤n gi·∫≠n nhau, t√¥n tr·ªçng s·ª± kh√°c bi·ªát, v√† n√≥i l·ªùi xin l·ªói khi c·∫ßn."
      );

      const merged = [...genericSuggestions, ...list];

      return merged.slice(0, 8);
    }

    function analyzeRelationship(data, percent) {
      let type = compatTypes[randomInRange(0, compatTypes.length - 1)];
      let label = compatLabels[randomInRange(0, compatLabels.length - 1)];
      let note = "";

      const { maleName, femaleName, maleZodiac, femaleZodiac, maleColor, femaleColor } = data;

      const nameText =
        maleName && femaleName
          ? `${maleName} v√† ${femaleName}`
          : "Hai b·∫°n";

      if (percent >= 90) {
        type = "Duy√™n v·ª£ ch·ªìng";
        label = "S·ª£i d√¢y k·∫øt n·ªëi gi·ªØa hai b·∫°n c·ª±c k·ª≥ b·ªÅn ch·∫∑t.";
        note = `${nameText} c√≥ m·ª©c ƒë·ªô h√≤a h·ª£p r·∫•t cao. Ch·ªâ c·∫ßn c√πng nhau gi·ªØ s·ª± t√¥n tr·ªçng, tin t∆∞·ªüng v√† kh√¥ng ng·∫°i b√†y t·ªè suy nghƒ©, ƒë√¢y l√† ki·ªÉu m·ªëi quan h·ªá r·∫•t d·ªÖ ƒëi t·ªõi nh·ªØng c·ªôt m·ªëc quan tr·ªçng.`;
      } else if (percent >= 85) {
        type = "Ng∆∞·ªùi y√™u l√Ω t∆∞·ªüng";
        label = "C·∫£m x√∫c t·ª± nhi√™n, nh·∫π nh√†ng nh∆∞ng kh√¥ng k√©m ph·∫ßn m√£nh li·ªát.";
        note = `${nameText} l√† ki·ªÉu c·∫∑p ƒë√¥i c√≥ r·∫•t nhi·ªÅu ƒëi·ªÉm chung. ƒê√¥i khi kh√°c bi·ªát nh·ªè ch√≠nh l√† gia v·ªã gi√∫p hai b·∫°n kh√¥ng nh√†m ch√°n ‚Äî mi·ªÖn l√† lu√¥n n√≥i chuy·ªán v·ªõi nhau b·∫±ng s·ª± ch√¢n th√†nh.`;
      } else if (percent >= 80) {
        type = "C·∫∑p ƒë√¥i g·∫Øn b√≥";
        label = "C√≥ n·ªÅn t·∫£ng t·ªët ƒë·ªÉ ƒëi c√πng nhau l√¢u d√†i.";
        note = `${nameText} c√≥ s·ª± h√≤a h·ª£p ƒë·ªß ƒë·ªÉ th·∫•u hi·ªÉu, ƒë·ªß kh√°c bi·ªát ƒë·ªÉ h·∫•p d·∫´n. Ch·ªâ c·∫ßn ch·ªãu kh√≥ ƒë·∫∑t m√¨nh v√†o v·ªã tr√≠ c·ªßa ng∆∞·ªùi kia, m·ªëi quan h·ªá s·∫Ω ng√†y c√†ng v·ªØng ch·∫Øc.`;
      } else {
        type = "Tri k·ªâ";
        label = "S·ª± ƒë·ªìng ƒëi·ªáu c·∫£m x√∫c r·∫•t t·ª± nhi√™n.";
        note = `${nameText} d·ªÖ chia s·∫ª ƒë∆∞·ª£c v·ªõi nhau nh·ªØng c√¢u chuy·ªán m√† kh√¥ng ph·∫£i ai c≈©ng hi·ªÉu. Gi·ªØ v·ªØng s·ª± ch√¢n th√†nh v√† tinh t·∫ø, c·∫£ hai s·∫Ω l√† ch·ªó d·ª±a ƒë√°ng tin c·∫≠y cho nhau.`;
      }

      if (maleZodiac && femaleZodiac) {
        note += `\n\nV·ªÅ cung ho√†ng ƒë·∫°o, ${maleZodiac} v√† ${femaleZodiac} th∆∞·ªùng t·∫°o n√™n nh·ªØng c√¢u chuy·ªán r·∫•t th√∫ v·ªã n·∫øu bi·∫øt t√¥n tr·ªçng c√° t√≠nh ri√™ng c·ªßa nhau.`;
      }

      if (maleColor && femaleColor && maleColor === femaleColor) {
        note += `\n\nHai b·∫°n c√≤n c√πng th√≠ch m√†u ${maleColor.toLowerCase()}, ƒëi·ªÅu n√†y cho th·∫•y gu th·∫©m m·ªπ v√† c·∫£m x√∫c c≈©ng c√≥ nhi·ªÅu ƒëi·ªÉm t∆∞∆°ng ƒë·ªìng.`;
      }

      return { type, label, note };
    }

    function getFormData() {
      const getVal = id => document.getElementById(id).value.trim();

      return {
        maleName: getVal("male-name"),
        femaleName: getVal("female-name"),
        maleHobby: getVal("male-hobby"),
        femaleHobby: getVal("female-hobby"),
        maleFood: getVal("male-food"),
        femaleFood: getVal("female-food"),
        maleDrink: getVal("male-drink"),
        femaleDrink: getVal("female-drink"),
        maleZodiac: getVal("male-zodiac"),
        femaleZodiac: getVal("female-zodiac"),
        maleColor: getVal("male-color"),
        femaleColor: getVal("female-color")
      };
    }

    function updateUI() {
      const data = getFormData();
      const percent = generateCompatibilityPercent();

      // C·∫≠p nh·∫≠t v√≤ng tr√≤n
      const circle = document.getElementById("compat-circle");
      circle.style.setProperty("--percent", percent + "%");
      document.getElementById("percent-text").textContent = percent + "%";

      // Ph√¢n t√≠ch m·ªëi quan h·ªá
      const analysis = analyzeRelationship(data, percent);
      document.getElementById("compat-type").textContent = analysis.type;
      document.getElementById("compat-label-text").textContent = analysis.label;
      document.getElementById("compat-note").textContent = analysis.note;

      // Pet ƒë√°ng y√™u
      const petLine = petLines[randomInRange(0, petLines.length - 1)];
      document.getElementById("pet-line-text").innerHTML = petLine;

      // G·ª£i √Ω h√†nh ƒë·ªông
      const suggestions = buildSuggestions(data);
      const ul = document.getElementById("suggestion-list");
      ul.innerHTML = "";
      suggestions.forEach(text => {
        const li = document.createElement("li");
        const icon = document.createElement("span");
        icon.className = "bullet-heart";
        icon.textContent = "üíó";
        const span = document.createElement("span");
        span.textContent = text;
        li.appendChild(icon);
        li.appendChild(span);
        ul.appendChild(li);
      });

      // L·ªùi ch√∫c
      const blessing = blessings[randomInRange(0, blessings.length - 1)];
      document.getElementById("blessing-text").innerHTML = `<span>üåü</span> ${blessing}`;

      // Hi·ªán ph·∫ßn k·∫øt qu·∫£
      document.getElementById("results-wrapper").classList.remove("hidden");
    }

    document.getElementById("calc-btn").addEventListener("click", function () {
      updateUI();
    });

    document.getElementById("reset-btn").addEventListener("click", function () {
      // Reset t·∫•t c·∫£ input
      document.querySelectorAll("input, textarea, select").forEach(el => {
        el.value = "";
      });
      // ·∫®n k·∫øt qu·∫£
      document.getElementById("results-wrapper").classList.add("hidden");
    });
  </script>
</body>
</html>